<!DOCTYPE html>
<html lang="en">
<head>
    {% load static %}
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>GV AI EXPLAINABILITY</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <link rel="shortcut icon" href="{% static 'pages/Artificial-Intelligence-Trends.jpeg' %}"/>
    <style>
        .bs-example {
            margin: 20px;
        }
    </style>
</head>

<body>
<nav class="navbar navbar-expand-md navbar-dark fixed-top bg-dark"></nav>

<main role="main">

    <div style="padding: 40px 0px 5px!important" class="jumbotron">
        <div class="container">
            <div class="row justify-content-start">

                <div class="col ">
                    <h5 class="display-4">This is the dashBoard</h5>
                </div>

                <div style="padding: 25px 0px 10px!important" class="d-flex justify-content-end">
                    <div class="col-md">
                        <h5>Want to redirect home?</h5>
                        <p><a style="width: 215px !important;" class="btn btn-secondary text-info"
                              href="/" role="button">Go Home »</a></p>
                    </div>
                </div>

            </div>
        </div>
    </div>

    <div class="container">

        <canvas id="choice-chart" style="width: 100% ;" data-url="{% url 'polls:totalpercentage' %}"></canvas>

        <hr>
    </div>
</main>

<footer style="padding: 25px 0px 25px!important" class="container">
    <p>© Varvarigos Georgios 2020-2021</p>
</footer>

</body>
</html>

<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js@2.9.3/dist/Chart.min.js"></script>

<script>
    $(function () {

        var $x = $("#choice-chart");
        $.ajax({
            url: $x.data("url"),
            success: function (data) {
                var ctx = $x[0].getContext('2d');
                var ctx = new Chart(ctx, {

                    type: 'bar',
                    data: {
                        labels: [data.responsibilty,data.responsibilty3],
                        datasets: [{
                            label: data.responsibilty,
                            data: [data.data, data.data.data3],
                            // barThickness: 70,
                            // borderColor: 'rgb(238,192,255)',
                            backgroundColor: 'rgb(59,65,177)',

                        },
                            {label: data.responsibilty3,
                            data: data.data,
                            // barThickness: 70,
                            // borderColor: 'rgb(238,192,255)',
                            backgroundColor: 'rgb(59,65,177)',

                        }]

                    },

                    options:
                        {
                            scales: {
                                xAxes: [{
                                    ticks: {
                                        fontColor: "#000",
                                        fontSize: 17
                                    }
                                }],
                                yAxes: [{
                                    ticks: {
                                        fontColor: "#000",
                                        fontSize: 15
                                    }
                                }],
                                responsive: true,
                            },

                        },
                });
            }
        });
    });
</script>
